# JS: Типы, сравнение, особенности

<br>

## Типы
Обобщенно в JS всего 2 вида значения: `примитивы` и `объекты`.  

__Примитивы:__ `string`, `boolean`, `number` (NaN, +/-Infinity), `bigInt`, `symbol`, `undefined`, `null`.
— всегда равны друг другу (кроме NaN != NaN)
— примитивы иммутабельны, само значение не изменить, только переменную¬¬¬¬¬¬
— передаются в функцию по значению, сама переменна остается неизменной

__Объектные (ссылочные)__: `object`, `class`, `func`, `array` и пр.
— __ключи у объектов только строки и символы__ (или он будет приведен к строке)
— объектные типы мутабельны, можно изменить содержимое объекта
— передаются по ссылке, а значит могут быть изменены внутри функции

<br>

## Хранение
`Стэк (stack)` – структура данных, использующейся под хранения статических данных, чей размер известен до выполнения (статическое выделение памяти).
* В стэке хранятся примитивные значения
* У непримитивов: в стэке хранятся ссылки на область в памяти кучи

`Куча (heap)` – динамическая структура данны, в ней хранятся функции и объекты (массивы и пр.), то есть сущности, чей размер не может быть известен заранее.  
* В куче нет какого-либо порядка в расположении данных (динамическое выделение памяти)
* У непримитивов: в стэке хранятся ссылки на область в памяти кучи

<br>

## Сравнение
1.  __|| — «ИЛИ спотыкается на правде»__
```javascript
(false || 0 || null || 1 || undefined) === 1
// потому что он в цепочке первая истина

(false || 0 || null || ‘’ || undefined) === undefined
// когда истины в цепочке нет – вернется последнее выражение
```
Оператор ИЛИ проходит цепочку сравнений только __до первого истинного выражения__ и просто возвращает именного его.
2.  __?? — «НУЛЕВОЕ СЛИЯНЕ спотыкается на ОПРЕДЕЛЕННОМ выражении»__
```javascript
(undefined ?? null ?? 0) === 0
// потому что в цепочке первое определенное выражение
```
Оператор NULLISH проходит цепочку сравнений только до первого определенного выражения и возвращает его. В отличии от ИЛИ он учитывает 0 и пустую строку и может их вернуть).
3.  __|| — «И спотыкается на лжи»__
```javascript
(1 && 2 && null && 1 && undefined) === null
//потому что он в цепочке первая ложь
```
Оператор И проходит цепочку сравнений только до первого ложного выражения и просто возвращает именного его.

<br>

## ?. (опциональная цепочка)
Работает на __проверку левой части выражения на null/undefined__: предотвращает ошибку обращения к ним
`user.property` – выдаст ошибку если вдруг user не существует.
`user?.property` – сначала проверит левую часть не опеределенность. В ином случае вернет не ошибку, а undefined.

<br>

## Symbol
Отдельный тип данных, выглядит как индетификтор и служат для создания свойств и методов объектов, за которые не нужно переживать по поводу перезаписи или случайного доступа. Нельзя вывести конкретное значение переменной этого типа.  

Существует два типа символов:  
1.  __Симвов без привязки к описанию:__ каждый вновь созданный символ с тем же описанием не будет равен предыдущему – это фактически новый символ.
```javascript
let sym1 = Symbol(‘desc….’)
```
2.  __Симвов занесенный в реестр:__ значение такого символа создается на основе заданного описания, каждый вновь созданный символ с тем же описанием будет ссылаться на тот же символ.
```javascript
let sym2 = Symbol.for(‘desc….’);
let desc = Symbol.key(sym2) // выведет описание символа.
```
