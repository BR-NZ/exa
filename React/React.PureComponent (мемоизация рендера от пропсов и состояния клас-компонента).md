# React.PureComponent (мемоизация рендера от пропсов и состояния)
_Для классовых компонентов_

__`React.PureComponent`__ – базовый класс для наследования новых классовых компонентов, похож на обычный `React.Component`. Отличие заключается в том, что он дополнительно реализует метод ЖЦ `shouldComponentUpdate()` по принципу "поверхностного сравнения" `пропсов` и `состояния`. То есть не нужно его дополнительно реализовывать, сравнение происходит автоматически.

<br>

## Зачем:
Если метод `render()` вашего React-компонента всегда рендерит одинаковый результат при одних и тех же пропсах и состояниях, для повышения производительности в некоторых случаях вы можете использовать React.PureComponent.

<br>

## Изменить механику сравнения
Если при использовании обычного `React.Component` или `React.PureComponent` нас не устраивает его "поверхностное сравнение" – метод ЖЦ `shouldComponentUpdate()` можно реализовать самостоятельно.

На вход он должен получать новые `props` и новые `state`:
```javascript
shouldComponentUpdate(nextProps, nextState) {
    .. сравниваем this.props и nextProps
    .. сравниваем this.state и nextState
    
    return 
        TRUE - если НЕ равны
        FALSE - если равны
}
```

<br>

## Функции не сравнить
Метод `shouldComponentUpdate()` стандартный или кастомный все равно не сможет сравнить функции, переданные как пропсы компоненту. Когда внешний компонент перерендерится функция пересоздастся под новой ссылкой. И компоненты на основе `React.memo` или `React.PureComponent` будут всегда считать ее за новый пропс и перерендериваться. 

Поэтому перед передачей ее стоит обернуть в `useCallBack()` во внешнем компоненте.
