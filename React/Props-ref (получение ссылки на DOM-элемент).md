# Props-ref (получение ссылки на DOM-элемент)

`ref` (рефы) — специальные `react-ссылки`, создаются и назначаются когда нужно получить ссылку на опеределенный элемент в уже `сформированном DOM-дереве`. 

Обычно, рефы используются `для установки фокуса` какому-либо инпуту или получения его значения или работе с формами. 
Обычный доступ по _id не практикуется_, так как он может дублироваться между разными модулями приложения.

<br>

## Стандартный способ
В КОНСТРУКТОРЕ: создание рефа (имена нужно давать уникальные)  
```javascript 
this.someRef = React.createRef()
```

В РЕНДЕРЕ: навешивание рефа  
```javascript
<Element ref={ this.someRef } />
```

ГДЕ-ТО ПОСЛЕ МОУНТА: доступ к элементу по рефу и использование элемента
```javascript
this.someRef.current.focus()
```

<br>

## С помощью коллбека:
В КОНСТРУКТОРЕ: создаем метод (коллбек), который будет получать реф и присваивать его полю  
```javascript 
this.setSomeRef = (elem) => this.someRef = elem; 
```

В РЕНДЕРЕ: навешиваем коллбек на реф-атрибут – при построении DOM коллбек получит реф  
```javascript 
<Element ref={ this.setSomeRef } /> 
```

ГДЕ-ТО ПОСЛЕ МОУНТА: доступ к элементу по рефу и использование элемента
```javascript 
this.someRef.focus() // в этом случае обращаться к элементу нужно без current
```

<br>

## Особенности:
* При обращении по рефу к react-компоненту __`он должен быть классовым`__, в этом случае также можно вызвать его методы. 
* Навесить реф __`на функциональный компонент нельзя`__.
* Реф вернет ссылку на элемент только после первого рендера.
* Поэтому обращаться по рефу нужно уже после рендеринга компонента, в соответствующих методах ЖЦ, так как обращение идет к готовому узлу DOM-дерева. 
