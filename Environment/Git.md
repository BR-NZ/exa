# Git
Git создает папку .git со своими исполняющими файлам, где хранятся коммиты. Коммиты хранят не сами версии файлов, а их изменения (дельты).
Файлы могут находится в ___3 состояниях одновременно:___
![Диаграмма состяний файлов](https://github.com/BR-NZ/synopsis/assets/24506129/18a0b77a-a355-4184-969e-03b7abe90132 "Диаграмма состояний файлов")

## Основы
__HEAD__ – id ссылка последнего коммита.
`git init` — создать локальный репозиторий в текущей папке проекта (появится скрытая папка .git с системными файлами “config”).
`git clone адрес_ремоут_реп [имя_папки]` — клонирует проект с удаленного репозитория в активную папки, или подпапку.
`git remote add origin адрес_ремоут_реп` — привязывает адрес-реп как внешний.
`git status` — выводит статус: текущую ветку, наличие данных в индекси и к коммиту.
`git log` — описание всех коммитов, их хеш-функцию и авторов. Выйти (Ctrl + Z / q).
`git имя_комманды --help` — выводится инструкция к команде.
`git config --global -e` — выводит гит-конфиг для редактирования.
`git config --global user.name` — показывает имя пользователя.
`git config --global user.name “new user”` — изменяет имя пользователя.
`git config --global user.email` — показывает email пользователя.
`git config --global user.email “test@mail.ru”` — изменяет email пользователя.
Данные пользователя будут использоваться при создании коммитов для идентификации автора.

__Авторизация:__ по паролю в терминале (при первом push) или по ключу SSH.
ssh-keygen -t rsa — создает в папке пользователя на машине клиента скрытую папку .ssh/ с файлами открытого и закрытого ключей.
cat ~/.ssh/id_rsa.pub — выводит открытый файл ключа для регистрации на Github.
Открытый ключ с ПК нужно внести в список Github как рабочий как доверенный.

## Add (добавление в индекс)
`git add index.html` — добавляет определенный файл.
`git add .` — добавляет все изменения в файлах, которые уже были.
`git add -A` — добавляет все изменения и файлы, не добавленные ранее (красный).

## Сommit (добавление индекс-файлов в репозиторий)
У каждого __коммита есть ID – хеш__, по которому к нему можно вернуться.
`git commit -m “message”` — создает из всех набранных за предыдущие шаги изменений (из зеленой зоны), присваивает ему описание.
`git commit -a -m "message"` — создает из всех измененных и уже добавленных ранее файлов, то есть для не требует add. Для новых файлов требует add.

## Branch (работа с ветками)
`git branch` — показывает список веток.
`git branch -r` — показывает ветки в удаленном репозитории.
`git branch имя_ветки` — создает новую ветку branch-name 
`git branch -d имя_ветки` — удаляет ветку.
`git branch -M имя_ветки` — переименовать текущую ветку. 
`git branch -f имя_ветки HEAD~3` — перенос ветки на 3 коммита назад от HEAD.

## Checkout (переключение активной ветки)
`git checkout имя_ветки` — переключается на последний коммит в ветке.
`git checkout -b имя_ветки` — создает ветку и сразу переключается на нее.
`git checkout –orphan имя_ветки` — создает новую ветки (без родителей).

## Push (отправка локальных коммитов в ремоут)
`git push` — замержит все ветки локального на удаленный репозиторий
`git push origin HEAD` — запушить текущую ветку.
`git push origin имя_ветки` — пуш всех незапушенных коммитов на ветку сервера.
`git push -f origin имя_ветки` — форс-пуш на выбранную ветку сервера.
`git push -u origin имя_ветки` — пуш с привязкой текущей ветки к указанной удаленной (локальная ветка станет отслеживаемой), в дальнейшем можно делать пуш с этой ветки без указания целевой ветки.

## Merge (слияние веток)
`git merge имя_ветки` — совмещает текущую ветку с выбранной.
`git pull` — получение последних изменений с сервера и их мердж с локальными.
`git pull origin` — забирает изменения с удаленного репозитория в локальный, на случай если код в удаленном кто-то изменил (получим актуальный и продолжим).
`git pull origin HEAD` — накатить текущую ветку.

## Fetch (получить с ремоут ветки без мерджа с локальной веткой)
`git fetch origin` — скачать все ветки с origin, но не мержить их в локальный реп.
`git fetch origin имя_ветки` — скачать ветку, но не мержить ее в локальный реп.

## Отмена изменений
`git checkout хеш_коммита` — откатывается к коммиту по указанному хешу.
`git revert хеш_коммита` — отменяет указанный коммит созданием нового коммита.
`git reset хеш_пред_коммита` — отменяет текущие коммиты переносом активной ветки на один из предыдущий, как будто этих коммитов не было в истории (хорошо работате на локальных репозиториях). Для удаленных не подходит, так как перепишет историю коммитов для других пользователей.	
`git reset --hard` — отменит все локальные незакомиченные изменения (дальше можно делать pull).
